## 문자열 연결 , 보간 , 자리 표시자의 성능비교

<br>

메모리 할당의 중요성을 이번주에 깨닫고 나서 `BenchmarkDotNet`을 통한 성능테스트를 해보기로했다.

<br>

### 시도(1)

```cs
using BenchmarkDotNet.Attributes;
using BenchmarkDotNet.Running;

public class StringPerformanceTest
{
    private const string shortStr1 = "hey";
    private const string shortStr2 = "there";

    private const string longStr1 = "Sigh... as a non-cs major, this is really tough for me. others have computer science backgrounds, so they understand everything easily, but i struggle to keep up with math and computer science concepts. it's exhausting in so many ways. ";
    private const string longStr2 = "On top of that, there are seasoned professionals with 10 or 20 years of experience in the field, can't help but wonder if i can survive in an environment like this, but oh well thing is watching videos or reading original text isnt a problem i should be grateful for that lol";

    // 짧은 문자열 연결
    [Benchmark]
    public string ShortStringConcat() => shortStr1 + " " + shortStr2;

    [Benchmark]
    public string ShortStringFormat() => string.Format("{0} {1}", shortStr1, shortStr2);

    [Benchmark]
    public string ShortStringInterpolation() => $"{shortStr1} {shortStr2}";

    // 긴 문자열 연결
    [Benchmark]
    public string LongStringConcat() => longStr1 + " " + longStr2;

    [Benchmark]
    public string LongStringFormat() => string.Format("{0} {1}", longStr1, longStr2);

    [Benchmark]
    public string LongStringInterpolation() => $"{longStr1} {longStr2}";
}

public class Program
{
    public static void Main(string[] args)
    {
        BenchmarkRunner.Run<StringPerformanceTest>();
    }
}
```

<br>

![[Pasted image 20250330052611.png]]

시도(1) 에서는 
- 짧은 문자열 작업에서는 Concat과 Interpolation이 ZeroMeasuremnet 가 떠서 제대로 된 비교분석이 불가능한것같아 좀더 해봐야겠다.

- 긴 문자열에서도 Concat과 Interpolation은 빠른 성능을 보여주지만, "ZeroMeasurement" 경고가 발생하여 제대로 된 비교분석이 불가능하다.